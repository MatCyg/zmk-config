#define SELECTION_MORPHING(keyName, key) \
    morphing_##keyName: morphing_##keyName { \
        compatible = "zmk,behavior-mod-morph"; \
        label = ZMK_MACRO_STRINGIFY(morphing_##keyName); \
        #binding-cells = <0>; \
        bindings = <&kp key>, <&sel_##keyName>; \
        mods = <(MOD_LSFT)>; \
    }; \
    ZMK_MACRO( \
        sel_##keyName, \
        wait-ms = <0>; \
        tap-ms = <0>; \
        bindings \
            = <&macro_release &kp LSFT> \
            , <&macro_press &kp LS(key)> \
            , <&macro_pause_for_release> \
            , <&macro_release &kp LS(key)> \
            , <&macro_tap &to NAV> \
            , <&macro_tap &sl SEL_MODE> \
            ; \
    )

SELECTION_MORPHING(left, LEFT)
SELECTION_MORPHING(right, RIGHT)
SELECTION_MORPHING(down, DOWN)
SELECTION_MORPHING(up, UP)
SELECTION_MORPHING(pg_up, PG_UP)
SELECTION_MORPHING(pg_dn, PG_DN)
SELECTION_MORPHING(alt_left, LA(LEFT))
SELECTION_MORPHING(alt_right, LA(RIGHT))
